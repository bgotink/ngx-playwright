(()=>{var E=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var _=Object.getOwnPropertyNames;var L=Object.prototype.hasOwnProperty;var U=(t,r)=>{for(var e in r)E(t,e,{get:r[e],enumerable:!0})},j=(t,r,e,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of _(r))!L.call(t,s)&&s!==e&&E(t,s,{get:()=>r[s],enumerable:!(n=M(r,s))||n.enumerable});return t};var q=t=>j(E({},"__esModule",{value:!0}),t);var Z={};U(Z,{query:()=>X,queryAll:()=>Y});var b={attribute:/\[\s*(?:(?<namespace>\*|[-\w\P{ASCII}]*)\|)?(?<name>[-\w\P{ASCII}]+)\s*(?:(?<operator>\W?=)\s*(?<value>.+?)\s*(\s(?<caseSensitive>[iIsS]))?\s*)?\]/gu,id:/#(?<name>[-\w\P{ASCII}]+)/gu,class:/\.(?<name>[-\w\P{ASCII}]+)/gu,comma:/\s*,\s*/g,combinator:/\s*[\s>+~]\s*/g,"pseudo-element":/::(?<name>[-\w\P{ASCII}]+)(?:\((?<argument>¶*)\))?/gu,"pseudo-class":/:(?<name>[-\w\P{ASCII}]+)(?:\((?<argument>¶*)\))?/gu,universal:/(?:(?<namespace>\*|[-\w\P{ASCII}]*)\|)?\*/gu,type:/(?:(?<namespace>\*|[-\w\P{ASCII}]*)\|)?(?<name>[-\w\P{ASCII}]+)/gu},D=new Set(["combinator","comma"]),z=new Set(["not","is","where","has","matches","-moz-any","-webkit-any","nth-child","nth-last-child"]),O=/(?<index>[\dn+-]+)\s+of\s+(?<subtree>.+)/,B={"nth-child":O,"nth-last-child":O},G=t=>{switch(t){case"pseudo-element":case"pseudo-class":return new RegExp(b[t].source.replace("(?<argument>\xB6*)","(?<argument>.*)"),"gu");default:return b[t]}};function K(t,r){let e=0,n="";for(;r<t.length;r++){let s=t[r];switch(s){case"(":++e;break;case")":--e;break}if(n+=s,e===0)return n}return n}function V(t,r=b){if(!t)return[];let e=[t];for(let[s,o]of Object.entries(r))for(let i=0;i<e.length;i++){let c=e[i];if(typeof c!="string")continue;o.lastIndex=0;let u=o.exec(c);if(!u)continue;let h=u.index-1,l=[],C=u[0],N=c.slice(0,h+1);N&&l.push(N),l.push({...u.groups,type:s,content:C});let T=c.slice(h+C.length+1);T&&l.push(T),e.splice(i,1,...l)}let n=0;for(let s of e)switch(typeof s){case"string":throw new Error(`Unexpected sequence ${s} found at index ${n}`);case"object":n+=s.content.length,s.pos=[n-s.content.length,n],D.has(s.type)&&(s.content=s.content.trim()||" ");break}return e}var W=/(['"])([^\\\n]+?)\1/g,F=/\\./g;function H(t,r=b){if(t=t.trim(),t==="")return[];let e=[];t=t.replace(F,(o,i)=>(e.push({value:o,offset:i}),"\uE000".repeat(o.length))),t=t.replace(W,(o,i,c,u)=>(e.push({value:o,offset:u}),`${i}${"\uE001".repeat(c.length)}${i}`));{let o=0,i;for(;(i=t.indexOf("(",o))>-1;){let c=K(t,i);e.push({value:c,offset:i}),t=`${t.substring(0,i)}(${"\xB6".repeat(c.length-2)})${t.substring(i+c.length)}`,o=i+c.length}}let n=V(t,r),s=new Set;for(let o of e.reverse())for(let i of n){let{offset:c,value:u}=o;if(!(i.pos[0]<=c&&c+u.length<=i.pos[1]))continue;let{content:h}=i,l=c-i.pos[0];i.content=h.slice(0,l)+u+h.slice(l+u.length),i.content!==h&&s.add(i)}for(let o of s){let i=G(o.type);if(!i)throw new Error(`Unknown token type: ${o.type}`);i.lastIndex=0;let c=i.exec(o.content);if(!c)throw new Error(`Unable to parse content for ${o.type}: ${o.content}`);Object.assign(o,c.groups)}return n}function g(t,{list:r=!0}={}){if(r&&t.find(e=>e.type==="comma")){let e=[],n=[];for(let s=0;s<t.length;s++)if(t[s].type==="comma"){if(n.length===0)throw new Error("Incorrect comma at "+s);e.push(g(n,{list:!1})),n.length=0}else n.push(t[s]);if(n.length===0)throw new Error("Trailing comma");return e.push(g(n,{list:!1})),{type:"list",list:e}}for(let e=t.length-1;e>=0;e--){let n=t[e];if(n.type==="combinator"){let s=t.slice(0,e),o=t.slice(e+1);return{type:"complex",combinator:n.content,left:g(s),right:g(o)}}}switch(t.length){case 0:throw new Error("Could not build AST.");case 1:return t[0];default:return{type:"compound",list:[...t]}}}function*m(t,r){switch(t.type){case"list":for(let e of t.list)yield*m(e,t);break;case"complex":yield*m(t.left,t),yield*m(t.right,t);break;case"compound":yield*t.list.map(e=>[e,t]);break;default:yield[t,r]}}function x(t,{recursive:r=!0,list:e=!0}={}){let n=H(t);if(!n)return;let s=g(n,{list:e});if(!r)return s;for(let[o]of m(s)){if(o.type!=="pseudo-class"||!o.argument||!z.has(o.name))continue;let i=o.argument,c=B[o.name];if(c){let u=c.exec(i);if(!u)continue;Object.assign(o,u.groups),i=u.groups.subtree}i&&Object.assign(o,{subtree:x(i,{recursive:!0,list:!0})})}return s}var P=new Map;function d(t){let r=P.get(t)?.deref();return r||(r=x(t,{recursive:!1})||a(t),P.set(t,new WeakRef(r))),r}function J(t){return t.tagName==="SLOT"&&t.assignedNodes().length?t.assignedNodes():Array.from((t.shadowRoot??t).childNodes)}function Q(t){return t.tagName==="SLOT"&&t.assignedNodes().length?t.assignedElements():Array.from((t.shadowRoot??t).children)}function*I(t){yield t;for(let r of Q(t))yield*I(r)}function w(t){return t.assignedSlot?t.assignedSlot:t.parentElement?t.parentElement:t.parentNode?.host?t.parentNode.host:null}function p(t){return t.assignedSlot?t.assignedSlot.assignedElements():t.parentElement?Array.from(t.parentElement.children):null}function y(t){let r=p(t);return r&&Array.from(r).filter(e=>e.tagName.toLowerCase()===t.tagName.toLowerCase())}function A(t){if(t.assignedSlot){let r=t.assignedSlot.assignedElements();return r[r.indexOf(t)-1]??null}return t.previousElementSibling}function v(t){let[r,e]=t.split(/\s+of\s*/,2),n;switch(r){case"even":n=s=>s%2===0;break;case"odd":n=s=>s%2!==0;break;default:{let[s,o]=r.includes("n")?r.split("n"):["0",r];s=s.trim(),o=o.trim();let i=1;s&&(i=s==="-"?-1:parseInt(s));let c=0;if(o)switch(o[0]){case"-":c=-1*parseInt(o.slice(1).trim());break;case"+":c=parseInt(o.slice(1).trim());break;default:c=parseInt(o);break}console.log({aNumber:i,bNumber:c}),i===0?n=u=>u===c:n=u=>(u=u-c,u%i===0&&u/i>=0)}}return{childAst:e&&d(e),indexMatches:n}}function f(t,r,e){switch(e.type){case"universal":return!0;case"attribute":return t.matches(e.content);case"class":return t.classList.contains(e.name);case"id":return t.id===e.name;case"type":return t.tagName.toLowerCase()===e.name.toLowerCase();case"list":for(let n of e.list)if(f(t,r,n))return!0;return!1;case"compound":for(let n of e.list)if(!f(t,r,n))return!1;return!0;case"pseudo-element":return a(e.content);case"pseudo-class":switch(e.name){case"root":return e.argument&&a(e.content),t===r.ownerDocument.documentElement;case"scope":return e.argument&&a(e.content),t===r;case"empty":return e.argument&&a(e.content),J(t).every(n=>n.nodeType===Node.COMMENT_NODE);case"first-child":return e.argument&&a(e.content),t===p(t)?.at(0);case"last-child":return e.argument&&a(e.content),t===p(t)?.at(-1);case"only-child":return e.argument&&a(e.content),p(t)?.length===1;case"first-of-type":return e.argument&&a(e.content),t===y(t)?.at(0);case"last-of-type":return e.argument&&a(e.content),t===y(t)?.at(-1);case"only-of-type":return e.argument&&a(e.content),y(t)?.length===1;case"nth-of-type":case"nth-last-of-type":{e.argument||a(e.content);let n=y(t);if(n==null)return!1;let{childAst:s,indexMatches:o}=v(e.argument);return s&&a(e.content),e.name==="nth-of-type"?o(1+n.indexOf(t)):o(n.length-n.indexOf(t))}case"nth-child":case"nth-last-child":{e.argument||a(e.content);let n=p(t);if(n==null)return!1;let{childAst:s,indexMatches:o}=v(e.argument);return s&&(n=Array.from(n).filter(i=>f(i,r,s))),e.name==="nth-child"?o(1+n.indexOf(t)):o(n.length-n.indexOf(t))}case"is":case"where":return e.argument||a(e.content),f(t,r,d(e.argument));case"has":return e.argument||a(e.content),k(`:scope ${e.argument}`,w(t)||t,t)!=null;case"not":return e.argument||a(e.content),!f(t,r,d(e.argument));case"host":case"host-context":return a(e.content);default:return t.matches(e.content)}case"complex":switch(e.combinator){case">":{let n=w(t);return n!=null&&f(t,r,e.right)&&f(n,r,e.left)}case" ":{let n=w(t);if(n==null||!f(t,r,e.right))return!1;for(;n!=null;){if(f(n,r,e.left))return!0;n=w(n)}return!1}case"+":{let n=A(t);return n!=null&&f(t,r,e.right)&&f(n,r,e.left)}case"~":{let n=A(t);if(n==null||!f(t,r,e.right))return!1;for(;n;){if(f(n,r,e.left))return!0;n=A(n)}return!1}}return R()}R()}function a(t){throw new Error(`Invalid selector: ${t}`)}function R(){throw new Error("This code should be unreachable")}function S(t){return"documentElement"in t?t.documentElement:t}function k(t,r=document,e=S(r)){let n=d(t);for(let s of I(S(r)))if(f(s,e,n))return s;return null}function $(t,r=document,e=S(r)){let n=d(t),s=[];for(let o of I(S(r)))f(o,e,n)&&s.push(o);return s}function X(t,r){return k(r,t)}function Y(t,r){return $(r,t)}return q(Z);})()
